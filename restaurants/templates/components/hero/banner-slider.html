{% load static %}

<div class="hero-section relative">
    <!-- Slider container -->
    <div class="slider-container relative w-full overflow-hidden"
        style="height: {% if subpage.hero_size == 'full-screen' %}100vh{% else %}50vh{% endif %}">
        <!-- First Slide -->
        {% if hero_primary or page_data.hero_primary.url %}
        <div class="slide absolute w-full h-full transition-opacity duration-500">
            <img src="{% if hero_primary.image %}{{ hero_primary.image.url }}{% else %}{{ page_data.hero_primary.url }}{% endif %}" 
                 alt="{% if hero_primary.alt_text %}{{ hero_primary.alt_text }}{% else %}{{ page_data.hero_primary.alt_text }}{% endif %}"
                 class="w-full h-screen object-cover">
            <!-- Hero content overlay -->
            <div class="absolute inset-0 flex items-center">
                <div class="w-full px-4 sm:px-6 lg:px-16 xl:px-24">
                    <div class="{% if subpage.hero_text_align == 'left' %}mr-auto{% endif %}
                                {% if subpage.hero_text_align == 'right' %}ml-auto{% endif %}
                                {% if subpage.hero_text_align == 'center' %}mx-auto{% endif %}
                                {% if subpage.hero_text_align %}max-w-prose{% endif %}">
                        {% if subpage.show_hero_heading %}
                        <h1 class="{{ subpage.hero_heading_size }} font-bold tracking-tight text-{{ subpage.hero_text_align }}" data-component="hero_heading"
                            style="font-family: {{ subpage.hero_heading_font }}; {% if subpage.hero_heading_color %}color: {{ subpage.hero_heading_color|safe }}{% endif %}">
                            {{ subpage.hero_heading|default:subpage.title }}
                        </h1>
                        {% endif %}
                        
                        {% if subpage.show_hero_subheading and subpage.hero_subheading %}
                        <p class="{{ subpage.hero_subheading_size }} mt-6 text-{{ subpage.hero_text_align }}"
                            style="font-family: {{ subpage.hero_subheading_font }}; {% if subpage.hero_subheading_color %}color: {{ subpage.hero_subheading_color|safe }}{% endif %}">
                            {{ subpage.hero_subheading }}
                        </p>
                        {% endif %}
                        {% if subpage.show_hero_button %}
                        <div class="hero-button-container mt-6 text-{{ subpage.hero_text_align }}">
                            <a  
                                class="hero-button inline-flex items-center justify-center rounded-md 
                                       {% if subpage.hero_button_size == 'sm' %}text-sm px-3 py-1{% endif %}
                                       {% if subpage.hero_button_size == 'md' %}text-base px-4 py-2{% endif %}
                                       {% if subpage.hero_button_size == 'lg' %}text-lg px-6 py-3{% endif %}"
                                style="background-color: {{ subpage.hero_button_bg_color|default:'#3B82F6' }}; 
                                       color: {{ subpage.hero_button_text_color|default:'#FFFFFF' }};"
                                href="{{ subpage.hero_button_link|default:'#' }}"
                            >
                                {{ subpage.hero_button_text|default:'Button' }}
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Second Slide -->
        {% if banner_2 or page_data.banner_2.url %}
        <div class="slide absolute w-full h-full transition-opacity duration-500 opacity-0">
            <img src="{% if banner_2.image %}{{ banner_2.image.url }}{% else %}{{ page_data.banner_2.url }}{% endif %}" 
                 alt="{% if banner_2.alt_text %}{{ banner_2.alt_text }}{% else %}{{ page_data.banner_2.alt_text }}{% endif %}"
                 class="w-full h-screen object-cover">
            
            <!-- Banner 2 content overlay -->
            <div class="absolute inset-0 flex items-center">
                <div class="w-full px-4 sm:px-6 lg:px-16 xl:px-24">
                    <div class="{% if subpage.banner_2_text_align == 'left' %}mr-auto{% endif %}
                                {% if subpage.banner_2_text_align == 'right' %}ml-auto{% endif %}
                                {% if subpage.banner_2_text_align == 'center' %}mx-auto{% endif %}
                                {% if subpage.banner_2_text_align != 'right' %}max-w-prose{% endif %}">
                                {% if subpage.show_banner_2_heading %}
                                <h1 class="{{ subpage.banner_2_heading_size }} font-bold tracking-tight text-{{ subpage.banner_2_text_align }}"
                                    style="font-family: {{ subpage.banner_2_heading_font }}; {% if subpage.banner_2_heading_color %}color: {{ subpage.banner_2_heading_color|safe }}{% endif %}">
                                    {{ subpage.banner_2_heading|default:subpage.title }}
                                </h1>
                                {% endif %}
                        
                                {% if subpage.show_banner_2_subheading and subpage.banner_2_subheading %}
                                <p class="{{ subpage.banner_2_subheading_size }} mt-6 text-{{ subpage.banner_2_text_align }}"
                                    style="font-family: {{ subpage.banner_2_subheading_font }}; {% if subpage.banner_2_subheading_color %}color: {{ subpage.banner_2_subheading_color|safe }}{% endif %}">
                                    {{ subpage.banner_2_subheading }}
                                </p>
                                {% endif %}

                                {% if subpage.show_banner_2_button %}
                                <div class="banner_2-button-container mt-6 text-{{ subpage.banner_2_text_align }}">
                                    <a  
                                        class="banner_2-button inline-flex items-center justify-center rounded-md 
                                               {% if subpage.banner_2_button_size == 'sm' %}text-sm px-3 py-1{% endif %}
                                               {% if subpage.banner_2_button_size == 'md' %}text-base px-4 py-2{% endif %}
                                               {% if subpage.banner_2_button_size == 'lg' %}text-lg px-6 py-3{% endif %}"
                                        style="background-color: {{ subpage.banner_2_button_bg_color|default:'#3B82F6' }}; 
                                               color: {{ subpage.banner_2_button_text_color|default:'#FFFFFF' }};"
                                        href="{{ subpage.banner_2_button_link|default:'#' }}"
                                    >
                                        {{ subpage.banner_2_button_text|default:'Button' }}
                                    </a>
                                </div>
                                {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Third Slide -->
        {% if banner_3 or page_data.banner_3.url %}
        <div class="slide absolute w-full h-full transition-opacity duration-500 opacity-0">
            <img src="{% if banner_3.image %}{{ banner_3.image.url }}{% else %}{{ page_data.banner_3.url }}{% endif %}" 
                 alt="{% if banner_3.alt_text %}{{ banner_3.alt_text }}{% else %}{{ page_data.banner_3.alt_text }}{% endif %}"
                 class="w-full h-screen object-cover">
            
            <!-- Banner 3 content overlay -->
            <div class="absolute inset-0 flex items-center">
                <div class="w-full px-4 sm:px-6 lg:px-16 xl:px-24">
                    <div class="{% if subpage.banner_3_text_align == 'left' %}mr-auto{% endif %}
                                {% if subpage.banner_3_text_align == 'right' %}ml-auto{% endif %}
                                {% if subpage.banner_3_text_align == 'center' %}mx-auto{% endif %}
                                {% if subpage.banner_3_text_align != 'right' %}max-w-prose{% endif %}">
                                {% if subpage.show_banner_3_heading %}
                                <h1 class="{{ subpage.banner_3_heading_size }} font-bold tracking-tight text-{{ subpage.banner_3_text_align }}"
                                    style="font-family: {{ subpage.banner_3_heading_font }}; {% if subpage.banner_3_heading_color %}color: {{ subpage.banner_3_heading_color|safe }}{% endif %}">
                                {{ subpage.banner_3_heading|default:subpage.title }}
                                </h1>
                                {% endif %}
                                
                                {% if subpage.show_banner_3_subheading and subpage.banner_3_subheading %}
                                <p class="{{ subpage.banner_3_subheading_size }} mt-6 text-{{ subpage.banner_3_text_align }}"
                                    style="font-family: {{ subpage.banner_3_subheading_font }}; {% if subpage.banner_3_subheading_color %}color: {{ subpage.banner_3_subheading_color|safe }}{% endif %}">
                                    {{ subpage.banner_3_subheading }}
                                </p>
                                {% endif %}
                                {% if subpage.show_banner_3_button %}
                                <div class="_banner_3-button-container mt-6 text-{{ subpage.banner_3_text_align }}">
                                    <a  
                                        class="banner_3-button inline-flex items-center justify-center rounded-md 
                                               {% if subpage.banner_3_button_size == 'sm' %}text-sm px-3 py-1{% endif %}
                                               {% if subpage.banner_3_button_size == 'md' %}text-base px-4 py-3{% endif %}
                                               {% if subpage.banner_3_button_size == 'lg' %}text-lg px-6 py-3{% endif %}"
                                        style="background-color: {{ subpage.banner_3_button_bg_color|default:'#3B83F6' }}; 
                                               color: {{ subpage.banner_3_button_text_color|default:'#FFFFFF' }};"
                                        href="{{ subpage.banner_3_button_link|default:'#' }}"
                                    >
                                        {{ subpage.banner_3_button_text|default:'Button' }}
                                    </a>
                                </div>
                                {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Only show navigation if we have multiple slides -->
        {% if hero_primary or page_data.hero_primary.url or banner_2 or page_data.banner_2.url or banner_3 or page_data.banner_3.url %}
            <!-- Navigation Dots -->
            <div class="absolute bottom-0 left-0 right-0 mb-8 z-20">
                <div class="flex justify-center items-center">
                    <div class="flex items-center space-x-4">
                        <!-- Pause/Play Button -->
                        <button id="pause-play-slider" 
                                class="p-2 rounded-full bg-black/20 hover:bg-black/30 transition-colors duration-200" 
                                aria-label="Pause/Resume slideshow">
                            <svg class="pause-icon w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"/>
                            </svg>
                            <svg class="play-icon w-4 h-4 hidden text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                            </svg>
                        </button>

                        <!-- Dots -->
                        <div class="flex space-x-2 bg-black/20 rounded-full px-3 py-2">
                            {% if hero_primary or page_data.hero_primary.url %}
                                <button class="w-3 h-3 rounded-full bg-white opacity-100 transition-opacity duration-200 dot-nav"></button>
                            {% endif %}
                            {% if banner_2 or page_data.banner_2.url %}
                                <button class="w-3 h-3 rounded-full bg-white opacity-50 transition-opacity duration-200 dot-nav"></button>
                            {% endif %}
                            {% if banner_3 or page_data.banner_3.url %}
                                <button class="w-3 h-3 rounded-full bg-white opacity-50 transition-opacity duration-200 dot-nav"></button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <!-- Arrow Navigation -->
            <button class="absolute left-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-white/50 hover:bg-white/75 transition-colors duration-200" 
                id="prev-slide" 
                type="button" 
                aria-label="Previous slide">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
            <button class="absolute right-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-white/50 hover:bg-white/75 transition-colors duration-200" 
                id="next-slide" 
                type="button" 
                aria-label="Next slide">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </button>
        {% endif %}
    </div>
</div>